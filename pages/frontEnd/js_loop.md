---
title: 练习：轮播框的制作
catalog: true
tags: 
  - javascript
  - animation
permalink: js_loop.html
folder: frontEnd
summary: 改变透明度 封装一个能够支持各种样式属性变化的函数
---

## 自动轮播

### 向下轮播函数的封装

1.  设置一个初始值 `n`，赋值`0`；
2.  当 `n`处于计时器中，会每1500毫秒，自动加1。
3.  每次自动加1后，图片和点对应的两个数组中的所有元素首先都清空属性，然后该索引值对应的元素的属性变成`active`。
4.  当 `n`达到4时，重置n的值，到`0`。

### 封装入计时器实现自动轮播

最后，将函数放入计时器中，即可。

## 清空计时器

当鼠标移入时，需要清空计时器。只有在鼠标移除时，才需要时候计时器来按指定频率调用向下轮播的函数。


## 跳转显示指定序号图片

需要解决的问题：

1.  每个点，都需要绑定一个点击事件，发生事件后调用函数。所以，首先，需要遍历每个点。

2.  知道点的顺序，就能去将对应的图片显示出来。所以，重点就是要了解点到的点的索引值。分成两个步骤：

    a.  遍历所有的点，为每个点建立一个属性`currentTab`，值就是它的索引值。
    b.  为每个点绑定事件时，将触发事件的对象，也就是`this`，的`currentTab`值，保存到变量n中。
    c.  这样，就能将n这个索引值在图片和点的数组中对应的值得类设置为`active`了，也就实现了功能。

## 前往上一张图片和下一张图片

前往下一张图片，只需要为next按钮绑定一个点击事件，然后调用向下轮播的函数即可。

而前往上一张图片，也就是按照同样的逻辑，定义一个向上轮播的函数，然后绑定事件和函数即可。



